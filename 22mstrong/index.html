<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Future of Energy is Here</title>
  <link rel="stylesheet" href="https://use.typekit.net/nnw1skj.css">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="header">
    <a href="/index.html">Navigation</a>
    <p id="output"><strong>#22MILLION</strong>STRONG</p>
  </div>
  <div>
    <div class="intro-video show-video"></div>
    <div class="loop-video hide-video"></div>
  </div>
  <div class="semi-transparent-dark-bg"></div>
  <div class="homepage-title">
    <div class="title-block">
      <p>THE FUTURE OF </p>
      <p class="big-font-title">RENEWABLE ENERGY IS HERE</p>
    </div>
  </div>
  <ul class="header-button-grid">
    <li class="grid-item-glb">Ignore - Image of a Globe</li>
    <li class="grid-item-rng"><a class="grid-item-button" href="rng.html">Renewable Natural Gas</a></li>
    <li class="grid-item-slr"><a class="grid-item-button" href="solar.html">Solar Energy</a></li>
    <li class="grid-item-hyd"><a class="grid-item-button" href="hydrogen.html">Hydrogen Energy</a></li>
    <li class="grid-item-wnd"><a class="grid-item-button" href="wind.html">Wind Energy</a></li>
    <li class="grid-item-tip"><a class="grid-item-button" href="tips.html">Tips</a></li>
    <li class="grid-item-nwz"><a class="grid-item-button" href="news.html">News</a></li>
  </ul>
  <ul class="footer">
    <li>placeholder footer text</li>
    <li class="footer-logo"></li>
    <li>powered by SoCalGas @2020</li>
  </ul>
  <script>
    var titleBlock = document.querySelector('.title-block');
    var grid = document.querySelector('.header-button-grid');
    var introVideo = document.querySelector('.intro-video');
    var loopVideo = document.querySelector('.loop-video');
    var curtain = document.querySelector('.semi-transparent-dark-bg');

    // Detect screen orientation and show the appropriate video
    var mql = window.matchMedia('(orientation: portrait)');
    
    function matchOrientation(m) {
      if(m.matches) {
        // Portrait
        introVideo.innerHTML = '<video autoplay muted playsinline><source src="videos/intro-vertical.mp4" type="video/mp4"></video>';
        loopVideo.innerHTML = '<video class="loop-video-element" muted playsinline loop><source src="videos/loop-vertical.mp4" type="video/mp4"></video>';
      } else {
        // Landscape
        introVideo.innerHTML = '<video autoplay muted playsinline><source src="videos/SCG_Intro_Video_1920_converted.mp4" type="video/mp4"></video>';
        loopVideo.innerHTML = '<video class="loop-video-element" muted playsinline loop><source src="videos/SCG_Loop_Video_1920_converted.mp4" type="video/mp4"></video>';
      }
    }

    matchOrientation(mql);

    mql.addListener(function(m){
      matchOrientation(m);
    })
    // End Screen orientation detection code

    

    //Hide the buttons at the beginning. 
    grid.classList.add('invisible');

    // Make the title visible after 25 seconds
    setTimeout(function(){
      titleBlock.classList.add('title-block-animate');
    }, 24000);

    // Make the buttons visible after 26 seconds
    setTimeout(function(){
      grid.classList.add('visible');
      grid.classList.remove('invisible');
      curtain.style.display = 'block';
    }, 25000);

    // Hide the intro video and show the loop video after 57 seconds
    setTimeout(function(){
      introVideo.classList.add('hide-video');
      introVideo.classList.remove('show-video');
    
      loopVideo.classList.add('show-video');
      loopVideo.classList.remove('hide-video');
      var loopVidElement = document.querySelector('.loop-video-element');
      loopVidElement.play();

    }, 57000);
   
  </script> 
</body>
</html>